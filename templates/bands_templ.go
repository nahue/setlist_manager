// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.943
package templates

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import "github.com/nahue/setlist_manager/internal/app/shared/types"

func BandsPage(user *types.User) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = BaseLayout(PageData{
			Title:       "Bandas",
			Description: "Gestiona tus bandas y setlists",
			Content:     BandsContent(user),
			User:        user,
		}).Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

func BandsContent(user *types.User) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var2 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var2 == nil {
			templ_7745c5c3_Var2 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div class=\"max-w-6xl mx-auto\"><div class=\"mb-8\"><div class=\"flex justify-between items-center\"><h1 class=\"text-3xl font-bold text-gray-900 dark:text-white\">Mis Bandas</h1><a href=\"/bands/create\" class=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-gray-800\"><svg class=\"-ml-1 mr-2 h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"></path></svg> Crear Nueva Banda</a></div></div><div class=\"grid grid-cols-1 lg:grid-cols-2 gap-8\"><!-- Bands Section --><div class=\"bg-white dark:bg-gray-800 shadow rounded-lg\"><div class=\"px-6 py-4 border-b border-gray-200 dark:border-gray-700\"><h2 class=\"text-lg font-medium text-gray-900 dark:text-white\">Tus Bandas</h2></div><div class=\"p-6\"><div id=\"bands-list\" class=\"space-y-4\"><!-- Bands will be loaded here via Alpine AJAX --><div class=\"text-center py-8\"><svg class=\"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"></path></svg><p class=\"mt-2 text-sm text-gray-500 dark:text-gray-400\">Cargando tus bandas...</p></div></div></div></div><!-- Invitations Section --><div class=\"bg-white dark:bg-gray-800 shadow rounded-lg\"><div class=\"px-6 py-4 border-b border-gray-200 dark:border-gray-700\"><h2 class=\"text-lg font-medium text-gray-900 dark:text-white\">Invitaciones Pendientes</h2></div><div class=\"p-6\"><div id=\"invitations-list\" class=\"space-y-4\"><!-- Invitations will be loaded here via Alpine AJAX --><div class=\"text-center py-8\"><svg class=\"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"></path></svg><p class=\"mt-2 text-sm text-gray-500 dark:text-gray-400\">Cargando invitaciones...</p></div></div></div></div></div></div><script>\n\t\t// Load bands and invitations when page loads\n\t\tdocument.addEventListener('DOMContentLoaded', function() {\n\t\t\tloadBands();\n\t\t\tloadInvitations();\n\t\t});\n\n\t\tfunction loadBands() {\n\t\t\tfetch('/api/bands')\n\t\t\t\t.then(response => response.json())\n\t\t\t\t.then(data => {\n\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\tdisplayBands(data.bands);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error('Failed to load bands');\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconsole.error('Error loading bands:', error);\n\t\t\t\t});\n\t\t}\n\n\t\tfunction loadInvitations() {\n\t\t\tfetch('/api/invitations')\n\t\t\t\t.then(response => response.json())\n\t\t\t\t.then(data => {\n\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\tdisplayInvitations(data.invitations);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error('Failed to load invitations');\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconsole.error('Error loading invitations:', error);\n\t\t\t\t});\n\t\t}\n\n\t\tfunction displayBands(bands) {\n\t\t\tconst container = document.getElementById('bands-list');\n\t\t\tif (bands.length === 0) {\n\t\t\t\tcontainer.innerHTML = '<div class=\"text-center py-8\"><svg class=\"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" /></svg><p class=\"mt-2 text-sm text-gray-500 dark:text-gray-400\">Aún no hay bandas</p><p class=\"text-xs text-gray-400 dark:text-gray-500\">Crea tu primera banda para comenzar</p></div>';\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcontainer.innerHTML = bands.map(band => '<div class=\"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"><div class=\"flex justify-between items-start\"><div class=\"flex-1\"><h3 class=\"text-lg font-medium text-gray-900 dark:text-white\">' + band.name + '</h3>' + (band.description ? '<p class=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">' + band.description + '</p>' : '') + '<p class=\"text-xs text-gray-500 dark:text-gray-400 mt-2\">Creada ' + new Date(band.created_at).toLocaleDateString() + '</p></div><a href=\"/band?id=' + band.id + '\" class=\"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 dark:text-indigo-300 dark:bg-indigo-900 dark:hover:bg-indigo-800\"><svg class=\"-ml-1 mr-2 h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" /><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" /></svg>Ver Detalles</a></div></div>').join('');\n\t\t}\n\n\t\tfunction displayInvitations(invitations) {\n\t\t\tconst container = document.getElementById('invitations-list');\n\t\t\tif (invitations.length === 0) {\n\t\t\t\tcontainer.innerHTML = '<div class=\"text-center py-8\"><svg class=\"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" /></svg><p class=\"mt-2 text-sm text-gray-500 dark:text-gray-400\">No hay invitaciones pendientes</p></div>';\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcontainer.innerHTML = invitations.map(invitation => '<div class=\"border border-gray-200 dark:border-gray-700 rounded-lg p-4\"><div class=\"flex justify-between items-start\"><div class=\"flex-1\"><h3 class=\"text-lg font-medium text-gray-900 dark:text-white\">' + invitation.band.name + '</h3><p class=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">Invitado por ' + invitation.invited_by_user.email + '</p><p class=\"text-xs text-gray-500 dark:text-gray-400 mt-2\">Rol: ' + invitation.role + '</p><p class=\"text-xs text-gray-500 dark:text-gray-400\">Expira ' + new Date(invitation.expires_at).toLocaleDateString() + '</p></div><div class=\"flex space-x-2\"><button onclick=\"acceptInvitation(\\'' + invitation.id + '\\')\" class=\"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700\">Aceptar</button><button onclick=\"declineInvitation(\\'' + invitation.id + '\\')\" class=\"inline-flex items-center px-3 py-1 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600\">Rechazar</button></div></div></div>').join('');\n\t\t}\n\n\t\tfunction acceptInvitation(invitationId) {\n\t\t\tfetch('/api/invitations/accept', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({ invitation_id: invitationId })\n\t\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\tif (data.success) {\n\t\t\t\t\tloadBands();\n\t\t\t\t\tloadInvitations();\n\t\t\t\t\talert('¡Invitación aceptada exitosamente!');\n\t\t\t\t} else {\n\t\t\t\t\talert('Error al aceptar la invitación');\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error('Error accepting invitation:', error);\n\t\t\t\talert('Error al aceptar la invitación');\n\t\t\t});\n\t\t}\n\n\t\tfunction declineInvitation(invitationId) {\n\t\t\tfetch('/api/invitations/decline', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({ invitation_id: invitationId })\n\t\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\tif (data.success) {\n\t\t\t\t\tloadInvitations();\n\t\t\t\t\talert('Invitación rechazada');\n\t\t\t\t} else {\n\t\t\t\t\talert('Error al rechazar la invitación');\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error('Error declining invitation:', error);\n\t\t\t\talert('Error al rechazar la invitación');\n\t\t\t});\n\t\t}\n\t</script>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
