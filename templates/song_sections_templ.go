// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.943
package templates

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import (
	"fmt"
	"github.com/nahue/setlist_manager/internal/store"
)

func SongSections(sections []*store.SongSection, songID string) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div id=\"song-sections\" class=\"mt-8\" data-song-id=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var2 string
		templ_7745c5c3_Var2, templ_7745c5c3_Err = templ.JoinStringErrs(songID)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/song_sections.templ`, Line: 9, Col: 59}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var2))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "\" x-data=\"{ \n\t\thandleSort(item, position) {\n\t\t\t// Get all section elements and their IDs in current order\n\t\t\tconst sectionElements = document.querySelectorAll('[data-section-id]');\n\t\t\tconst sectionOrder = Array.from(sectionElements).map(el => el.getAttribute('data-section-id'));\n\t\t\t\n\t\t\t// Get song ID from data attribute\n\t\t\tconst songId = this.$el.getAttribute('data-song-id');\n\t\t\t\n\t\t\t// Send to server\n\t\t\tfetch(`/api/songs/${songId}/sections/reorder`, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({ section_order: sectionOrder })\n\t\t\t})\n\t\t\t.then(response => response.text())\n\t\t\t.then(html => {\n\t\t\t\tdocument.getElementById('song-sections').innerHTML = html;\n\t\t\t\t// Reinitialize tabs, markdown preview, and markdown content after content update\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tinitializeTabs();\n\t\t\t\t\tinitializeMarkdownPreview();\n\t\t\t\t\tinitializeMarkdownContent();\n\t\t\t\t}, 100);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error('Error reordering sections:', error);\n\t\t\t\talert('Error reordering sections');\n\t\t\t});\n\t\t},\n\t\tonSortStart() {\n\t\t\t// Ensure dark mode classes are applied to sortable elements\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst isDarkMode = document.documentElement.classList.contains('dark');\n\t\t\t\tif (isDarkMode) {\n\t\t\t\t\tdocument.querySelectorAll('.sortable-ghost, .sortable-chosen').forEach(el => {\n\t\t\t\t\t\tel.classList.add('dark');\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}, 10);\n\t\t}\n\t}\"><div class=\"bg-white dark:bg-gray-800 shadow rounded-lg dark:shadow-none\"><div class=\"px-6 py-4 border-b border-gray-200 dark:border-gray-700\"><h2 class=\"text-lg font-medium text-gray-900 dark:text-white\">Song Sections</h2><p class=\"text-sm text-gray-500 dark:text-gray-400\">Organize your song into sections with lyrics, chords, or notes</p></div><div class=\"p-6\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if len(sections) == 0 {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "<div class=\"text-center py-8\"><svg class=\"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"></path></svg><p class=\"mt-2 text-sm text-gray-500 dark:text-gray-400\">No sections yet</p><p class=\"text-xs text-gray-400 dark:text-gray-500\">Add your first section to get started</p></div><!-- AI Generation and Add Section --> <div class=\"pt-6 border-t border-gray-200 dark:border-gray-700\"><div class=\"flex justify-between items-center mb-4\"><h3 class=\"text-sm font-medium text-gray-900 dark:text-white\">Add New Section</h3><form method=\"POST\" action=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var3 templ.SafeURL
			templ_7745c5c3_Var3, templ_7745c5c3_Err = templ.JoinURLErrs("/api/songs/" + songID + "/sections/generate-ai")
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/song_sections.templ`, Line: 75, Col: 65}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var3))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "\" x-target=\"song-sections\" @ajax:success=\"handleAISuccess($event)\" @ajax:error=\"handleAIError($event)\"><button type=\"submit\" class=\"inline-flex items-center px-3 py-2 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 dark:focus:ring-offset-gray-800\"><svg class=\"-ml-1 mr-2 h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"></path></svg> Generate with AI</button></form></div><!-- Manual Add Section Form --><form method=\"POST\" action=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var4 templ.SafeURL
			templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinURLErrs("/api/songs/" + songID + "/sections")
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/song_sections.templ`, Line: 95, Col: 52}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "\" x-target=\"song-sections\" class=\"space-y-4\"><div><label class=\"block text-xs font-medium text-gray-700 dark:text-gray-300\">Title *</label> <input type=\"text\" name=\"title\" required class=\"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 dark:focus:ring-indigo-400 dark:focus:border-indigo-400 text-xs bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400\" placeholder=\"e.g., Verse 1, Chorus, Bridge\"></div><div><label class=\"block text-xs font-medium text-gray-700 dark:text-gray-300\">Key</label> <select name=\"key\" class=\"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 dark:focus:ring-indigo-400 dark:focus:border-indigo-400 text-xs bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"><option value=\"\">No key</option> <option value=\"C\">C</option> <option value=\"C#\">C#</option> <option value=\"D\">D</option> <option value=\"D#\">D#</option> <option value=\"E\">E</option> <option value=\"F\">F</option> <option value=\"F#\">F#</option> <option value=\"G\">G</option> <option value=\"G#\">G#</option> <option value=\"A\">A</option> <option value=\"A#\">A#</option> <option value=\"B\">B</option> <option value=\"Cm\">Cm</option> <option value=\"C#m\">C#m</option> <option value=\"Dm\">Dm</option> <option value=\"D#m\">D#m</option> <option value=\"Em\">Em</option> <option value=\"Fm\">Fm</option> <option value=\"F#m\">F#m</option> <option value=\"Gm\">Gm</option> <option value=\"G#m\">G#m</option> <option value=\"Am\">Am</option> <option value=\"A#m\">A#m</option> <option value=\"Bm\">Bm</option></select></div><div><label class=\"block text-xs font-medium text-gray-700 dark:text-gray-300\">Content (Markdown supported)</label><div class=\"mt-1\"><!-- Tab Navigation --><div class=\"border-b border-gray-200 dark:border-gray-600\"><nav class=\"-mb-px flex space-x-8\" aria-label=\"Tabs\"><button type=\"button\" class=\"border-indigo-500 text-indigo-600 dark:text-indigo-400 whitespace-nowrap py-2 px-1 border-b-2 font-medium text-xs tab-button active\" data-tab=\"edit\">Edit</button> <button type=\"button\" class=\"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-500 whitespace-nowrap py-2 px-1 border-b-2 font-medium text-xs tab-button\" data-tab=\"preview\">Preview</button></nav></div><!-- Tab Content --><div class=\"mt-2\"><!-- Edit Tab --><div class=\"tab-content active\" data-tab=\"edit\"><textarea name=\"body\" rows=\"6\" class=\"block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 dark:focus:ring-indigo-400 dark:focus:border-indigo-400 text-xs markdown-editor bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400\" placeholder=\"Enter lyrics, chords, notes, or any content for this section...&#10;&#10;Markdown is supported:&#10;# Headers&#10;## Subheaders&#10;**Bold text**&#10;*Italic text*&#10;- Lists&#10;1. Numbered lists&#10;[Links](url)&#10;`code`&#10;> Blockquotes\"></textarea></div><!-- Preview Tab --><div class=\"tab-content hidden\" data-tab=\"preview\"><div class=\"border border-gray-300 dark:border-gray-600 rounded-md p-3 bg-gray-50 dark:bg-gray-700 min-h-[120px] markdown-preview text-xs prose prose-sm max-w-none dark:prose-invert\"><div class=\"text-gray-500 dark:text-gray-400 italic\">Preview will appear here...</div></div></div></div></div></div><button type=\"submit\" class=\"w-full inline-flex justify-center items-center px-3 py-2 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-gray-800\">Add Section</button></form></div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		} else {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, "<div class=\"space-y-4\" x-sort=\"handleSort\" x-sort:config=\"{ \n\t\t\t\t\t\t\tanimation: 150,\n\t\t\t\t\t\t\tghostClass: 'sortable-ghost',\n\t\t\t\t\t\t\tchosenClass: 'sortable-chosen',\n\t\t\t\t\t\t\tonStart: onSortStart\n\t\t\t\t\t\t}\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			for _, section := range sections {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, "<div class=\"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors [body:not(.sorting)_&]:hover:bg-gray-50 dark:[body:not(.sorting)_&]:hover:bg-gray-700/50\" data-section-id=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var5 string
				templ_7745c5c3_Var5, templ_7745c5c3_Err = templ.JoinStringErrs(section.ID)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/song_sections.templ`, Line: 208, Col: 36}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var5))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, "\" x-sort:item=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var6 string
				templ_7745c5c3_Var6, templ_7745c5c3_Err = templ.JoinStringErrs(section.ID)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/song_sections.templ`, Line: 209, Col: 32}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var6))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 9, "\"><div class=\"flex justify-between items-start\"><div class=\"flex-1\"><div class=\"flex items-center space-x-2\"><span x-sort:handle class=\"cursor-move text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-400\"><svg class=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 8h16M4 16h16\"></path></svg></span><h3 class=\"text-lg font-medium text-gray-900 dark:text-white\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var7 string
				templ_7745c5c3_Var7, templ_7745c5c3_Err = templ.JoinStringErrs(section.Title)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/song_sections.templ`, Line: 219, Col: 88}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var7))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 10, "</h3>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				if section.Key != "" {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 11, "<span class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200\">")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var8 string
					templ_7745c5c3_Var8, templ_7745c5c3_Err = templ.JoinStringErrs(section.Key)
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/song_sections.templ`, Line: 222, Col: 26}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var8))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 12, "</span>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 13, "</div>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				if section.Body != "" {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 14, "<div class=\"mt-2 text-sm text-gray-600 dark:text-gray-300 prose prose-sm max-w-none dark:prose-invert\">")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templ.Raw(section.Body).Render(ctx, templ_7745c5c3_Buffer)
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 15, "</div>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 16, "<div class=\"mt-2 flex items-center space-x-4 text-xs text-gray-500 dark:text-gray-400\"><span>Position: ")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var9 string
				templ_7745c5c3_Var9, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d", section.Position))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/song_sections.templ`, Line: 232, Col: 64}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var9))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 17, "</span> ")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				if section.User != nil {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 18, "<span>Added by ")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var10 string
					templ_7745c5c3_Var10, templ_7745c5c3_Err = templ.JoinStringErrs(section.User.Email)
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/song_sections.templ`, Line: 234, Col: 47}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var10))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 19, "</span>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 20, "</div></div><div class=\"flex space-x-2\"><button onclick=\"editSection('{ section.ID }')\" class=\"text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300 text-sm font-medium\">Edit</button><form method=\"delete\" action=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var11 templ.SafeURL
				templ_7745c5c3_Var11, templ_7745c5c3_Err = templ.JoinURLErrs("/api/songs/" + songID + "/sections/" + section.ID)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/song_sections.templ`, Line: 242, Col: 91}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var11))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 21, "\" x-target=\"song-sections\" @ajax:before=\"confirm('Are you sure you want to delete this section?') || $event.preventDefault()\"><button type=\"submit\" class=\"text-red-600 hover:text-red-500 dark:text-red-400 dark:hover:text-red-300 text-sm font-medium\">Delete</button></form></div></div></div>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 22, "</div><!-- Add Section Form --> <div class=\"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700\"><h3 class=\"text-sm font-medium text-gray-900 dark:text-white mb-4\">Add New Section</h3><form method=\"POST\" action=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var12 templ.SafeURL
			templ_7745c5c3_Var12, templ_7745c5c3_Err = templ.JoinURLErrs("/api/songs/" + songID + "/sections")
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/song_sections.templ`, Line: 258, Col: 52}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var12))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 23, "\" x-target=\"song-sections\"><div class=\"space-y-4\"><div><label class=\"block text-sm/6 font-medium text-gray-900 dark:text-white\">Title *</label><div class=\"mt-2\"><input type=\"text\" name=\"title\" required class=\"block w-full rounded-md bg-white dark:bg-gray-700 px-3 py-1.5 text-base text-gray-900 dark:text-white outline-1 -outline-offset-1 outline-gray-300 dark:outline-gray-600 placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 dark:focus:outline-indigo-500 sm:text-sm/6\" placeholder=\"e.g., Verse 1, Chorus, Bridge\"></div></div><div><label class=\"block text-sm/6 font-medium text-gray-900 dark:text-white\">Key</label><div class=\"mt-2\"><select name=\"key\" class=\"block w-full rounded-md bg-white dark:bg-gray-700 px-3 py-1.5 text-base text-gray-900 dark:text-white outline-1 -outline-offset-1 outline-gray-300 dark:outline-gray-600 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 dark:focus:outline-indigo-500 sm:text-sm/6\"><option value=\"\">No key</option> <option value=\"C\">C</option> <option value=\"C#\">C#</option> <option value=\"D\">D</option> <option value=\"D#\">D#</option> <option value=\"E\">E</option> <option value=\"F\">F</option> <option value=\"F#\">F#</option> <option value=\"G\">G</option> <option value=\"G#\">G#</option> <option value=\"A\">A</option> <option value=\"A#\">A#</option> <option value=\"B\">B</option> <option value=\"Cm\">Cm</option> <option value=\"C#m\">C#m</option> <option value=\"Dm\">Dm</option> <option value=\"D#m\">D#m</option> <option value=\"Em\">Em</option> <option value=\"Fm\">Fm</option> <option value=\"F#m\">F#m</option> <option value=\"Gm\">Gm</option> <option value=\"G#m\">G#m</option> <option value=\"Am\">Am</option> <option value=\"A#m\">A#m</option> <option value=\"Bm\">Bm</option></select></div></div><div><label class=\"block text-sm/6 font-medium text-gray-900 dark:text-white\">Content</label><div class=\"mt-2\"><textarea name=\"body\" rows=\"4\" class=\"block w-full rounded-md bg-white dark:bg-gray-700 px-3 py-1.5 text-base text-gray-900 dark:text-white outline-1 -outline-offset-1 outline-gray-300 dark:outline-gray-600 placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 dark:focus:outline-indigo-500 sm:text-sm/6\" placeholder=\"Enter lyrics, chords, notes, or any content for this section...\"></textarea></div><p class=\"mt-3 text-sm/6 text-gray-600 dark:text-gray-400\">Markdown is supported for formatting.</p></div></div><div class=\"mt-6 flex items-center justify-end gap-x-6\"><button type=\"submit\" class=\"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 dark:focus-visible:outline-offset-gray-800\">Add Section</button></div></form></div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 24, "</div></div></div><script>\n\t\t// Tab functionality\n\t\tdocument.addEventListener('DOMContentLoaded', function() {\n\t\t\t// Initialize tabs\n\t\t\tinitializeTabs();\n\t\t\t\n\t\t\t// Initialize markdown preview\n\t\t\tinitializeMarkdownPreview();\n\t\t\t\n\t\t\t\n\t});\n\n\n\n\tfunction handleAISuccess(event) {\n\t\t// Wait a bit for the DOM to update, then reinitialize the components\n\t\tsetTimeout(() => {\n\t\t\tconsole.log('Reinitializing components after AI generation...');\n\t\t\t\n\t\t\t// Initialize tabs and markdown preview for any new content\n\t\t\tinitializeTabs();\n\t\t\tinitializeMarkdownPreview();\n\t\t\t\n\t\t\tconsole.log('Components reinitialized');\n\t\t}, 100);\n\t\t\n\t\t// Show success notification\n\t\tshowNotification('Song sections generated successfully!', 'success');\n\t}\n\n\tfunction handleAIError(event) {\n\t\tconsole.error('Error generating sections:', event.detail);\n\t\tshowNotification('Failed to generate sections. Please try again.', 'error');\n\t}\n\n\tfunction showNotification(message, type) {\n\t\t// Create notification element\n\t\tconst notification = document.createElement('div');\n\t\tnotification.className = `fixed top-4 right-4 z-50 p-4 rounded-md shadow-lg ${\n\t\t\ttype === 'success' ? 'bg-green-500 text-white' : 'bg-red-500 text-white'\n\t\t}`;\n\t\tnotification.textContent = message;\n\t\t\n\t\t// Add to page\n\t\tdocument.body.appendChild(notification);\n\t\t\n\t\t// Remove after 3 seconds\n\t\tsetTimeout(() => {\n\t\t\tnotification.remove();\n\t\t}, 3000);\n\t}\n\n\t\tfunction initializeTabs() {\n\t\t\tdocument.querySelectorAll('.tab-button').forEach(button => {\n\t\t\t\tbutton.addEventListener('click', function() {\n\t\t\t\t\tconst tabName = this.getAttribute('data-tab');\n\t\t\t\t\tconst tabContainer = this.closest('.mt-1');\n\t\t\t\t\t\n\t\t\t\t\t// Update button states\n\t\t\t\t\ttabContainer.querySelectorAll('.tab-button').forEach(btn => {\n\t\t\t\t\t\tbtn.classList.remove('border-indigo-500', 'text-indigo-600', 'dark:text-indigo-400');\n\t\t\t\t\t\tbtn.classList.add('border-transparent', 'text-gray-500', 'dark:text-gray-400');\n\t\t\t\t\t});\n\t\t\t\t\tthis.classList.remove('border-transparent', 'text-gray-500', 'dark:text-gray-400');\n\t\t\t\t\tthis.classList.add('border-indigo-500', 'text-indigo-600', 'dark:text-indigo-400');\n\t\t\t\t\t\n\t\t\t\t\t// Update tab content visibility\n\t\t\t\t\ttabContainer.querySelectorAll('.tab-content').forEach(content => {\n\t\t\t\t\t\tif (content.getAttribute('data-tab') === tabName) {\n\t\t\t\t\t\t\tcontent.classList.remove('hidden');\n\t\t\t\t\t\t\tcontent.classList.add('active');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcontent.classList.add('hidden');\n\t\t\t\t\t\t\tcontent.classList.remove('active');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t// Update preview if switching to preview tab\n\t\t\t\t\tif (tabName === 'preview') {\n\t\t\t\t\t\tupdateMarkdownPreview(tabContainer);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tfunction initializeMarkdownPreview() {\n\t\t\tdocument.querySelectorAll('.markdown-editor').forEach(textarea => {\n\t\t\t\ttextarea.addEventListener('input', function() {\n\t\t\t\t\tconst tabContainer = this.closest('.mt-1');\n\t\t\t\t\tconst previewTab = tabContainer.querySelector('[data-tab=\"preview\"]');\n\t\t\t\t\tif (previewTab && !previewTab.classList.contains('hidden')) {\n\t\t\t\t\t\tupdateMarkdownPreview(tabContainer);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\n\n\t\tfunction updateMarkdownPreview(tabContainer) {\n\t\t\tconst textarea = tabContainer.querySelector('.markdown-editor');\n\t\t\tconst preview = tabContainer.querySelector('.markdown-preview');\n\t\t\t\n\t\t\tif (textarea && preview) {\n\t\t\t\tconst markdownText = textarea.value;\n\t\t\t\tif (markdownText.trim() === '') {\n\t\t\t\t\tpreview.innerHTML = '<div class=\"text-gray-500 dark:text-gray-400 italic\">Preview will appear here...</div>';\n\t\t\t\t} else {\n\t\t\t\t\t// Use marked library for proper markdown parsing\n\t\t\t\t\ttry {\n\t\t\t\t\t\t// Configure marked options\n\t\t\t\t\t\tmarked.setOptions({\n\t\t\t\t\t\t\tbreaks: true, // Convert line breaks to <br>\n\t\t\t\t\t\t\tgfm: true,    // GitHub Flavored Markdown\n\t\t\t\t\t\t\theaderIds: false, // Disable header IDs for security\n\t\t\t\t\t\t\tmangle: false,    // Disable mangling\n\t\t\t\t\t\t\tsanitize: false   // We'll handle sanitization with DOMPurify if needed\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Parse markdown to HTML\n\t\t\t\t\t\tconst html = marked.parse(markdownText);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Apply custom styling classes\n\t\t\t\t\t\tlet styledHtml = html\n\t\t\t\t\t\t\t// Add Tailwind classes to headers\n\t\t\t\t\t\t\t.replace(/<h1>/g, '<h1 class=\"text-2xl font-bold mt-4 mb-3 text-gray-900 dark:text-white\">')\n\t\t\t\t\t\t\t.replace(/<h2>/g, '<h2 class=\"text-xl font-semibold mt-3 mb-2 text-gray-900 dark:text-white\">')\n\t\t\t\t\t\t\t.replace(/<h3>/g, '<h3 class=\"text-lg font-semibold mt-2 mb-1 text-gray-900 dark:text-white\">')\n\t\t\t\t\t\t\t// Add Tailwind classes to links\n\t\t\t\t\t\t\t.replace(/<a /g, '<a class=\"text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 underline\" target=\"_blank\" ')\n\t\t\t\t\t\t\t// Add Tailwind classes to lists\n\t\t\t\t\t\t\t.replace(/<ul>/g, '<ul class=\"list-disc ml-4 mb-2 text-gray-900 dark:text-white\">')\n\t\t\t\t\t\t\t.replace(/<ol>/g, '<ol class=\"list-decimal ml-4 mb-2 text-gray-900 dark:text-white\">')\n\t\t\t\t\t\t\t// Add Tailwind classes to code blocks\n\t\t\t\t\t\t\t.replace(/<code>/g, '<code class=\"bg-gray-100 dark:bg-gray-600 px-1 py-0.5 rounded text-sm font-mono text-gray-900 dark:text-white\">')\n\t\t\t\t\t\t\t.replace(/<pre>/g, '<pre class=\"bg-gray-100 dark:bg-gray-600 p-3 rounded text-sm font-mono overflow-x-auto text-gray-900 dark:text-white\">')\n\t\t\t\t\t\t\t// Add Tailwind classes to blockquotes\n\t\t\t\t\t\t\t.replace(/<blockquote>/g, '<blockquote class=\"border-l-4 border-gray-300 dark:border-gray-600 pl-4 italic text-gray-900 dark:text-white\">');\n\t\t\t\t\t\t\n\t\t\t\t\t\tpreview.innerHTML = styledHtml;\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.error('Error parsing markdown:', error);\n\t\t\t\t\t\tpreview.innerHTML = '<div class=\"text-red-500 dark:text-red-400\">Error parsing markdown</div>';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\n\t\tfunction editSection(sectionId) {\n\t\t\t// TODO: Implement edit functionality\n\t\t\talert('Edit functionality coming soon!');\n\t\t}\n\t</script>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

func SongSectionsError(errorMsg string, songID string) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var13 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var13 == nil {
			templ_7745c5c3_Var13 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 25, "<div id=\"song-sections\" class=\"mt-8\"><div class=\"bg-white dark:bg-gray-800 shadow rounded-lg dark:shadow-none\"><div class=\"px-6 py-4 border-b border-gray-200 dark:border-gray-700\"><h2 class=\"text-lg font-medium text-gray-900 dark:text-white\">Song Sections</h2><p class=\"text-sm text-gray-500 dark:text-gray-400\">Organize your song into sections with lyrics, chords, or notes</p></div><div class=\"p-6\"><!-- Error Message --><div class=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6\"><div class=\"flex items-center\"><svg class=\"w-5 h-5 text-red-400 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\"><path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clip-rule=\"evenodd\"></path></svg> <span class=\"text-red-700 dark:text-red-400\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var14 string
		templ_7745c5c3_Var14, templ_7745c5c3_Err = templ.JoinStringErrs(errorMsg)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/song_sections.templ`, Line: 508, Col: 61}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var14))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 26, "</span></div></div><!-- Add Section Form --><div class=\"pt-6 border-t border-gray-200 dark:border-gray-700\"><h3 class=\"text-sm font-medium text-gray-900 dark:text-white mb-3\">Add New Section</h3><form method=\"POST\" action=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var15 templ.SafeURL
		templ_7745c5c3_Var15, templ_7745c5c3_Err = templ.JoinURLErrs("/api/songs/" + songID + "/sections")
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/song_sections.templ`, Line: 517, Col: 51}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var15))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 27, "\" x-target=\"song-sections\" class=\"space-y-3\"><div><label class=\"block text-xs font-medium text-gray-700 dark:text-gray-300\">Title *</label> <input type=\"text\" name=\"title\" required class=\"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 dark:focus:ring-indigo-400 dark:focus:border-indigo-400 text-xs bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400\" placeholder=\"e.g., Verse 1, Chorus, Bridge\"></div><div><label class=\"block text-xs font-medium text-gray-700 dark:text-gray-300\">Key</label> <select name=\"key\" class=\"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 dark:focus:ring-indigo-400 dark:focus:border-indigo-400 text-xs bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"><option value=\"\">No key</option> <option value=\"C\">C</option> <option value=\"C#\">C#</option> <option value=\"D\">D</option> <option value=\"D#\">D#</option> <option value=\"E\">E</option> <option value=\"F\">F</option> <option value=\"F#\">F#</option> <option value=\"G\">G</option> <option value=\"G#\">G#</option> <option value=\"A\">A</option> <option value=\"A#\">A#</option> <option value=\"B\">B</option> <option value=\"Cm\">Cm</option> <option value=\"C#m\">C#m</option> <option value=\"Dm\">Dm</option> <option value=\"D#m\">D#m</option> <option value=\"Em\">Em</option> <option value=\"Fm\">Fm</option> <option value=\"F#m\">F#m</option> <option value=\"Gm\">Gm</option> <option value=\"G#m\">G#m</option> <option value=\"Am\">Am</option> <option value=\"A#m\">A#m</option> <option value=\"Bm\">Bm</option></select></div><div><label class=\"block text-xs font-medium text-gray-700 dark:text-gray-300\">Content (Markdown supported)</label><div class=\"mt-1\"><!-- Tab Navigation --><div class=\"border-b border-gray-200 dark:border-gray-600\"><nav class=\"-mb-px flex space-x-8\" aria-label=\"Tabs\"><button type=\"button\" class=\"border-indigo-500 text-indigo-600 dark:text-indigo-400 whitespace-nowrap py-2 px-1 border-b-2 font-medium text-xs tab-button active\" data-tab=\"edit\">Edit</button> <button type=\"button\" class=\"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-500 whitespace-nowrap py-2 px-1 border-b-2 font-medium text-xs tab-button\" data-tab=\"preview\">Preview</button></nav></div><!-- Tab Content --><div class=\"mt-2\"><!-- Edit Tab --><div class=\"tab-content active\" data-tab=\"edit\"><textarea name=\"body\" rows=\"6\" class=\"block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 dark:focus:ring-indigo-400 dark:focus:border-indigo-400 text-xs markdown-editor bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400\" placeholder=\"Enter lyrics, chords, notes, or any content for this section...&#10;&#10;Markdown is supported:&#10;# Headers&#10;## Subheaders&#10;**Bold text**&#10;*Italic text*&#10;- Lists&#10;1. Numbered lists&#10;[Links](url)&#10;`code`&#10;> Blockquotes\"></textarea></div><!-- Preview Tab --><div class=\"tab-content hidden\" data-tab=\"preview\"><div class=\"border border-gray-300 dark:border-gray-600 rounded-md p-3 bg-gray-50 dark:bg-gray-700 min-h-[120px] markdown-preview text-xs prose prose-sm max-w-none dark:prose-invert\"><div class=\"text-gray-500 dark:text-gray-400 italic\">Preview will appear here...</div></div></div></div></div></div><button type=\"submit\" class=\"w-full inline-flex justify-center items-center px-3 py-2 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-gray-800\">Add Section</button></form></div></div></div></div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
